/**
 * Copyright (c) Mozilla Foundation http://www.mozilla.org/
 * This code is available under the terms of the MIT License
 */

function colorToRGBA(t){var r,e;return r=document.createElement("canvas"),r.height=1,r.width=1,e=r.getContext("2d"),e.fillStyle=t,e.fillRect(0,0,1,1),e.getImageData(0,0,1,1).data}function numberWithCommas(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function isNumber(t){return!isNaN(parseFloat(t))&&isFinite(t)}function waitFor(t,r,e){e=void 0!==e?e:100,t()?r():setTimeout(function(){waitFor(t,r)},e)}define(["jquery","underscore","backbone","router"],function(t,r,e,i){return{initialize:function(){i.initialize({config_file:"app/config/appConfig.json"})}}}),function(){for(var t,r=function(){},e=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=e.length,n=window.console=window.console||{};i--;)t=e[i],n[t]||(n[t]=r)}(),hexToRgb=function(t){return t=t.replace("#",""),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16),255]},String.prototype.colorToRgb=function(){var t=this.toString();return"#"===t.charAt(0)?hexToRgb(t):colorToRGBA(t)},Array.prototype.filter||(Array.prototype.filter=function(t){var r=this.length>>>0;if("function"!=typeof t)throw new TypeError;for(var e=[],i=arguments[1],n=0;n<r;n++)if(n in this){var o=this[n];t.call(i,o,n,this)&&e.push(o)}return e}),String.prototype.startsWith||(String.prototype.startsWith=function(t,r){return r=r||0,this.lastIndexOf(t,r)===r}),String.linkify||(String.prototype.linkify=function(){var t=/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,r=/(^|[^\/])(www\.[\S]+(\b|$))/gim,e=/[\w.]+@[a-zA-Z_-]+?(?:\.[a-zA-Z]{2,6})+/gim;return this.replace(t,'<a href="$&">$&</a>').replace(r,'$1<a href="http://$2">$2</a>').replace(e,'<a href="mailto:$&">$&</a>')});