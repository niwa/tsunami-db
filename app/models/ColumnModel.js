define(["jquery","underscore","backbone"],function(t,e,i){return i.Model.extend({initialize:function(t){this.options=t||{},this.set({column:this.attributes.column||this.attributes.id,title:this.attributes.title||this.attributes.id,placeholders:this.attributes.placeholders||null,addons:this.attributes.addons||null,description:this.attributes.description||this.attributes.title||this.attributes.hint,descriptionMore:this.attributes.descriptionMore||"",hint:this.attributes.hint||"",type:this.attributes.type||"text",group:this.attributes.group||"meta",filterable:"undefined"!=typeof this.attributes.filterable?this.attributes.filterable:1,colorable:"undefined"!=typeof this.attributes.colorable?this.attributes.colorable:0,table:"undefined"!=typeof this.attributes.table?this.attributes.table:1,single:"undefined"!=typeof this.attributes.single?this.attributes.single:1,isDefault:"undefined"!=typeof this.attributes.default?this.attributes.default:0,searchable:"undefined"!=typeof this.attributes.searchable?this.attributes.searchable:0,sortable:"undefined"!=typeof this.attributes.sortable?this.attributes.sortable:1,blanks:"undefined"!=typeof this.attributes.blanks?this.attributes.blanks:0,multiples:"undefined"!=typeof this.attributes.multiples?this.attributes.multiples:0,plot:"undefined"!=typeof this.attributes.plot?this.attributes.plot:0,values:this.attributes.values||"auto",combo:"undefined"!=typeof this.attributes.combo?this.attributes.combo:0,comboColumnId:this.attributes.comboColumnId||null,comboType:this.attributes.comboType||null,comboTitle:this.attributes.comboTitle||this.attributes.title||this.attributes.id,comboDescription:this.attributes.comboDescription||this.attributes.description||"",plotMax:this.attributes.plotMax||null,plotColor:this.attributes.plotColor||"#fff",unit:this.attributes.unit||null,showOnPage:{values:!1,valueDescription:!1}}),this.set({queryColumn:this.attributes.queryColumn||this.attributes.column}),this.set({queryColumnByType:"undefined"!=typeof this.attributes.query?"object"==typeof this.attributes.query?{value:this.attributes.queryColumn,min:this.attributes.query.min||null,max:this.attributes.query.max||null}:{value:this.attributes.query,min:null,max:null}:{value:this.attributes.queryColumn,min:null,max:null}}),"spatial"!==this.attributes.type&&"quantitative"!==this.attributes.type||null===this.attributes.placeholders&&this.set("placeholders",{min:"Min",max:"Max"}),"spatial"===this.attributes.type&&null===this.attributes.addons&&this.set("addons",{min:"Min",max:"Max"}),"date"===this.attributes.type&&null===this.attributes.placeholders&&this.set("placeholders",{min:"After",max:"Before"}),"auto"===this.attributes.values?this.attributes.showOnPage.values=!1:"undefined"!=typeof this.attributes.values.values&&(this.attributes.showOnPage.values=!0,"undefined"==typeof this.attributes.values.labels&&(this.attributes.showOnPage.values=!1,this.attributes.values.labels=e.clone(this.attributes.values.values)),"undefined"==typeof this.attributes.values.hints&&(this.attributes.values.hints=[]),"undefined"==typeof this.attributes.values.descriptions&&(this.attributes.values.descriptions=this.attributes.values.hints),this.attributes.values.descriptions.length>0&&(this.attributes.showOnPage.values=!0,this.attributes.showOnPage.valueDescription=!0))},getQueryColumnByType:function(t){return t="undefined"!=typeof t?t:"value",this.attributes.queryColumnByType[t]},getQueryColumn:function(){return this.attributes.queryColumn},getValues:function(){return this.attributes.values},getType:function(){return this.attributes.type},getTitle:function(){return this.attributes.title},getUnit:function(){return this.attributes.unit},hasMoreDescription:function(){return""!==this.attributes.descriptionMore||"undefined"!=typeof this.attributes.values.descriptions&&this.attributes.values.descriptions.length>0},getColor:function(t){if(1===this.get("colorable")){t=null===t?"null":t;var e=this.attributes.values.values.indexOf(t);return this.attributes.values.colors[e]}}})});